<div class="dashboard-container">
  <h1 class="dashboard-title">POS Dashboard</h1>

  <!-- Summary Cards -->
  <div class="summary-cards">
    <div class="card">
      <div class="card-title">Today</div>
      <div class="card-value">{{ summary.today.value.toFixed(2) }}</div>
      <div class="card-count">{{ summary.today.count }} sales</div>
    </div>
    <div class="card">
      <div class="card-title">Yesterday</div>
      <div class="card-value">{{ summary.yesterday.value.toFixed(2) }}</div>
      <div class="card-count">{{ summary.yesterday.count }} sales</div>
    </div>
    <div class="card">
      <div class="card-title">Last 7 Days</div>
      <div class="card-value">${{ summary.last7Days.value.toFixed(2) }}</div>
      <div class="card-count">{{ summary.last7Days.count }} sales</div>
    </div>
    <div class="card">
      <div class="card-title">Last 30 Days</div>
      <div class="card-value">${{ summary.last30Days.value.toFixed(2) }}</div>
      <div class="card-count">{{ summary.last30Days.count }} sales</div>
    </div>
    <div class="card">
      <div class="card-title">Total Sales</div>
      <div class="card-value">${{ summary.total.value.toFixed(2) }}</div>
      <div class="card-count">{{ summary.total.count }} sales</div>
    </div>
  </div>

  <!-- Chart Section -->
  <div class="chart-section">
    <h2>Sales and Stock-in Last 12 Months</h2>
    <div class="chart-container">
      <canvas baseChart
        [data]="chartData"
        [options]="chartOptions"
        [type]="'line'">
      </canvas>
    </div>
  </div>

  <!-- Last 10 Sales Table -->
  <div class="table-section">
    <h2>Last 10 Sales</h2>
    <div class="table-container">
      <table class="sales-table">
        <thead>
          <tr>
            <th>Invoice No</th>
            <th>Customer Name</th>
            <th>Sales Date</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let sale of last10Sales">
            <td>{{ sale.invoiceNo }}</td>
            <td>{{ sale.customer?.name || 'N/A' }}</td>
            <td>{{ sale.createdAt.toDate() | date:'short' }}</td>
            <td>
              <button class="view-btn" [routerLink]="['sales/invoice', sale.id]">View</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
